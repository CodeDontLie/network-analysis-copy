---
title: "Density, Centrality, & Reciprocity"
subtitle: "SNA Module 2: Code-Along"
format:
  revealjs: 
    slide-number: c/t
    progress: true
    chalkboard: 
      buttons: false
    preview-links: auto
    logo: img/LASERLogoB.png
    #theme: Cosmo
    theme: [default, css/laser.scss]
    width: 1920
    height: 1080
    margin: 0.05
    footer: <a href=https://www.go.ncsu.edu/laser-institute>go.ncsu.edu/laser-institute
highlight-style: a11y
resources:
  - demo.pdf
bibliography: lit/references.bib
editor: visual
---

## Overview

1.  **Prepare**: Introduce the guiding study and {igraph} package.

2.  **Wrangle**: Revisit the {readr} and {tidygraph} packages to import and prepare edge and node lists.

3.  **Explore**: Calculate a range of network-level measures to describe and compare collaboration networks over time.

4.  **Model**: Introduce how modeling can was used to examine MOOC-Ed discussion networks.

5.  **Communicate**: Briefly examine how these measure can be reported.

::: notes
**Speaker Notes:**
:::

# Prepare

Guiding Research & Network Packages

```{r, echo=FALSE, results='hide', message=FALSE, warning=FALSE}


```

## Guiding Study

::: panel-tabset
## Context

::: columns
::: {.column width="70%"}
This mixed-methods case study used both SNA and qualitative methods to better understand peer support in MOOC-Eds through an examination of the characteristics, mechanisms, and outcomes of peer networks.
:::

::: {.column width="30%"}
![Behavioral vs. Cognitive Classroom Friendships [@kellogg2014social]](img/irrodl-article.png){width="70%"}
:::
:::

## Questions

This study involves **quantifying and visualizing the ties and overall structure** of informal networks to answer the following research questions:

1.  What are the patterns of peer interaction and the structure of peer networks that emerge over the course of a MOOC-Ed?

2.  To what extent do participant and network attributes (e.g., homophily, reciprocity, transitivity) account for the structure of these networks?

3.  To what extent do these networks result in the co-construction of new knowledge?

## Data

-   **MOOC-Ed registration form.** All participants completed a registration form for each MOOC-Ed course. The registration form consists of self-reported demographic data, including information related to their professional role and work setting, years of experience in education, and personal learning goals.

-   **MOOC-Ed discussion forums.** All peer interaction, including peer discussion, feedback, and reactions (e.g., likes), take place within the forum area of MOOC-Eds, which are powered by Vanilla Forums.

## Findings

-   Most ties between educators consisted of a single communication and a general tendency for an individualâ€™s responses to be distributed evenly among peers.

-   Measures of network reciprocity were fairly similar across the two MOOC-Eds, despite the size and varied composition of educators in each network.

-   Reciprocators made up the largest proportion of educators in both courses

-   Significant effects were found for the relational mechanism of reciprocity, but not for a popularity effect.
:::

::: notes
**Speaker Notes:**
:::

## Load Packages

::: panel-tabset
## R Libraries

Let's start by creating a new R script and loading the following packages introduced in the previous module:

```{r}
library(janitor)
library(tidyverse)
library(tidygraph)
library(ggraph)
```

```{r load-libraries, echo=TRUE, message=FALSE}
library(janitor)
library(tidyverse)
library(tidygraph)
library(ggraph)

# You may have to install this package if it is not listed in your packages pane.
# install.packages(tidyverse) 
```

## Network Packages

::: columns
::: {.column width="80%"}
The {igraph} package and its collection of network analysis tools provide pain-free implementation of graph algorithms fast handling of large graphs, with millions of vertices and edges.

<br>

Both {tidygraph} and {ggraph} used in the previous lab depend heavily on the {igraph} package.\
:::

::: {.column width="20%"}
![](img/igraph.png)

[igraph](https://igraph.org)
:::
:::

## Your Turn

Load the {igraph} package.

```{r, echo=TRUE}
# YOUR CODE HERE
#
#
```
:::

# Wrangle

Intro to Network Data Structures

## Import Data

::: panel-tabset
## read_csv

Let's import two .csv files from our data folder named `dlt1-edges.csv` and `dlt1-nodes.csv` using the `read_csv()` function from the {readr} package:

```{r}
#| echo: true

dlt1_ties <- read_csv("data/dlt1-edges.csv", 
                      col_types = cols(Sender = col_character(), 
                                       Receiver = col_character(), 
                                       `Category Text` = col_skip(), 
                                       `Comment ID` = col_character(), 
                                       `Discussion ID` = col_character()
                                       )
                      ) |>
  clean_names()

dlt1_actors <- read_csv("data/dlt1-nodes.csv", 
                   col_types = cols(UID = col_character(), 
                                    Facilitator = col_character(), 
                                    expert = col_character(), 
                                    connect = col_character())) |>
  clean_names()
```

## Inspect Data

Using your R script or the console or another prefered means, take a look at the data file we just imported:

``` r
# ADD CODE BELOW
# 
#
```

## Discuss

Think about the questions below and be prepared to share your response:

1.  What type of data structure is used to store this network data?

2.  What do you think the rows and columns represent?

3.  What do the values in each cell represent?
:::

## Create Network Object

::: panel-tabset
## Convert Edgelist

Before we can begin analyzing our network data in R, we need to convert to a network class R object. Run the following code in your R script:

```{r}
#| echo: true
dlt1_network <- tbl_graph(edges = dlt1_ties,
                          nodes = dlt1_actors,
                          node_key = "uid",
                          directed = TRUE)
```

## View Network

In the corresponding line of your R script, type the name of network object we just created and run the code:

``` r
# ADD CODE BELOW
# 
#
```

## Discuss

Think about the questions below:

1.  What size of the DLT 1 MOOC-ED network?

2.  What else do you notice about this network?

3.  What questions, if any, do have about this network?
:::

# Explore

Network Density, Centrality, & Reciprocity

## What's Next?

-   SNA Case Study: [Who's Friends with Who in Middle School?](https://laser-institute.github.io/network-analysis/lab-1/sna-lab-1-case-study-key.html)

-   Guiding Study: [Behavioral versus cognitive classroom friendship networks.](https://github.com/laser-institute/essential-readings/blob/main/sna-labs/sna-lab-1/pittinsky-class-friendships.pdf)

## Acknowledgements

::: columns
::: {.column width="20%"}
![](img/nsf.jpg){fig-align="center" width="80%"}
:::

::: {.column width="80%"}
This work was supported by the National Science Foundation grants DRL-2025090 and DRL-2321128 (ECR:BCSER). Any opinions, findings, and conclusions expressed in this material are those of the authors and do not necessarily reflect the views of the National Science Foundation.
:::
:::

## References
